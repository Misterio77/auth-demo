{% extends "base" %}

{% block title %}Sessions{% endblock title %}

{% block content%}

<h1>Active Sessions</h1>

{% for session_item in sessions %}

{% if ((loop.index - 1) % 3) == 0 %}
<div class="grid">
{% endif %}

<article class="tiled">
  <header>
    <hgroup>
      <h2>{{ session_item.source }}</h2>
      <h3>{{ session_item.creation | date(format="%d/%m/%Y %H:%M") }}</h3>
    </hgroup>
  </header>
  <p>
    {% if session_item == session %}
      Current device
    {% else %}
      &nbsp;
    {% endif %}
  </p>
  <form method="post" action="/sessions/{{ session_item.creation | timestamp_nano }}/delete">
    <button>Revoke</button>
  </form>
</article>

{% if (loop.index % 3) == 0 %}
</div>
{% endif %}

{% endfor %}

{% endblock content %}
